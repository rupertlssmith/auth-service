<!-- Defines the content catalogue for The Cookery Book website. -->
<CatalogueDefinition xmlns="http://thesett.com/catalogue-def-0.2" 
                     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    
    <Package name="com.thesett.auth.model"/>

    <!-- For providing references to records (also used for simple summary queries) -->
    <ViewDef name="namedRef">
        <String name="name"/>
    </ViewDef>

    <!-- === Security: Users, Roles and Permissions. === -->
    <EntityDef name="account">
        <Unique natural_key="true">
            <String name="username"/>
        </Unique>
        <String name="password"/>
        <Set name="roles">
            <Component name="role" type="role"/>
        </Set>
    </EntityDef>

    <EntityDef name="role">
        <Unique natural_key="true">
            <String name="name"/>
        </Unique>
        <Set name="accounts">
            <Component name="account" type="account"/>
        </Set>
        <Set name="permissions">
            <String name="permission"/>
        </Set>
    </EntityDef>

    <ComponentDef name="authRequest">
        <String name="username"/>
        <String name="password"/>
    </ComponentDef>

</CatalogueDefinition>
